# Issue 

# [2024.04.04] 06. if else and switch

```c
#include <stdio.h>

int main(void){
    int a, b;
    char s;

    printf("a를 입력하세요.\n");
    scanf("%d", &a);

    printf("b를 입력하세요.\n");
    scanf("%d", &b);

    printf("연산자를 입력하세요.\n");
    scanf("%c", &s);

    if (s == '+'){
        printf("%d %c %d = %d", a, s, b, a+b);
    }
    else if (s == '-'){
        printf("%d %c %d = %d", a, s, b, a-b);
    }

}
```

위 코드를 실행하면 `scanf("%c", &s);` 부분에서 에러가 발생합니다. 
에러가 발생하는 이유는, 이전의 `scanf`에서 입력한 엔터(\n)가 버퍼에 남아있어서 `%c`가 이를 읽어들일 때 문제가 발생합니다.


> [!NOTE]
> 버퍼(Buffer)는 데이터를 임시로 저장하는 메모리 공간. 입력 버퍼의 경우, 키보드나 다른 입력 장치에서 들어오는 데이터를 임시로 저장하는 역할을 함. 프로그램은 필요할 때마다 입력 버퍼에서 데이터를 읽음.

C 언어에서 `scanf`함수는 입력 버퍼에서 데이터를 읽어옵니다. 키보드로 값을 입력하면, 입력된 값은 먼저 입력 버퍼에 저장되고, `scanf`가 호출되면 버퍼에서 데이터를 읽어 변수에 저장합니다. 

이전의 `scanf`에서 `a` 와 `b`를 입력한 뒤 Enter 키를 눌러서 `\n`이 입력 버퍼에 추가됩니다. 마지막 `scanf`함수인 `scanf("%c", s)` 호출 시, 입력 버퍼에 남아 있는 `\n`을 읽어들이게 되어 의도한 대로 동작하지 않습니다.

**그러면** 다음과 같은 의문을 가질 수 있습니다. 

> 왜 `scanf("%d", &b)` 에서는 a를 입력할때 쌓인 `\n`을 읽어오지 않나요 ? 

`scanf("%d", &a)`와 `scanf("%d", &b)`는 정수 형식 지정자(`%d`)를 사용하므로, 개행 문자(\n)를 무시하고 숫자만 읽어들입니다.
하지만 `scanf("%c", &s)`는 문자 형식 지정자(`%c`)를 사용하므로, 개행 문자(\n)를 포함한 모든 문자를 읽어들입니다.

> 그러면 어떻게 해결하나요 ?

`scanf("%c", &s)` 이전에 버퍼를 비워주는 방식을 사용합니다. 

### 1. %c 앞에 공백을 추가하는 방법:
```c
scanf(" %c", &s);
```
`%c` 앞의 공백은 scanf가 공백 문자(스페이스, 탭, 개행 문자)를 무시하고 다음 문자를 읽도록 합니다.


### 2. `scanf("%c", &s)` 전에 getchar()를 사용하여 입력 버퍼를 비우는 방법:
```c
getchar(); // 입력 버퍼 비우기
scanf("%c", &s);
```


